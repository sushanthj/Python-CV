

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  

  
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>RegEx | Python Notes</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="RegEx" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Python Notes" />
<meta property="og:description" content="Python Notes" />
<link rel="canonical" href="/Regex/" />
<meta property="og:url" content="/Regex/" />
<meta property="og:site_name" content="Python Notes" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="RegEx" />
<script type="application/ld+json">
{"@type":"WebPage","url":"/Regex/","headline":"RegEx","description":"Python Notes","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="/" class="site-title lh-tight">
  Python Notes

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/intro/" class="nav-list-link">Intro</a></li><li class="nav-list-item"><a href="/Lists%20and%20Strings/" class="nav-list-link">Lists and Strings</a></li><li class="nav-list-item"><a href="/Dictionaries/" class="nav-list-link">Dictionaries</a></li><li class="nav-list-item"><a href="/Power%20of%20Introspection/" class="nav-list-link">Functions and Modules</a></li><li class="nav-list-item"><a href="/Objects/" class="nav-list-link">Objects</a></li><li class="nav-list-item"><a href="/Exceptions+File_Handlers/" class="nav-list-link">Exceptions and File Handling</a></li><li class="nav-list-item active"><a href="/Regex/" class="nav-list-link active">RegEx</a></li><li class="nav-list-item"><a href="/File_Ops_and_Parsing/" class="nav-list-link">File Ops and Parsing</a></li><li class="nav-list-item"><a href="/numpy/" class="nav-list-link">Numpy</a></li><li class="nav-list-item"><a href="/CV%20Concepts/" class="nav-list-link">CV Edge Detection and Filters</a></li><li class="nav-list-item"><a href="/OpenCV/" class="nav-list-link">OpenCV</a></li><li class="nav-list-item"><a href="/Multi-Proc,%20JSON,%20usr_inp/" class="nav-list-link">Multi-Processing, JSONS, and User-Inputs</a></li><li class="nav-list-item"><a href="/git_concepts" class="nav-list-link">Git Concepts</a></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Python Notes" aria-label="Search Python Notes" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="//github.com/sushanthj" class="site-button"
                  
                >
                  Sushanth's GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
      
      <div id="main-content" class="main-content" role="main">
        
          <details open="">
  <summary class="text-delta">
    Table of contents
  </summary>
<ol id="markdown-toc">
  <li><a href="#before-you-begin" id="markdown-toc-before-you-begin">Before you Begin</a></li>
  <li><a href="#regex" id="markdown-toc-regex">Regex</a>    <ol>
      <li><a href="#mundane-patterns-and-research" id="markdown-toc-mundane-patterns-and-research">Mundane patterns and re.search()</a></li>
      <li><a href="#n-to-m-form" id="markdown-toc-n-to-m-form">n to m form</a></li>
      <li><a href="#verbose-regex" id="markdown-toc-verbose-regex">Verbose REGEX</a></li>
    </ol>
  </li>
  <li><a href="#groups" id="markdown-toc-groups">Groups</a>    <ol>
      <li><a href="#groups-1" id="markdown-toc-groups-1">groups()</a></li>
      <li><a href="#groupdict" id="markdown-toc-groupdict">groupdict()</a></li>
      <li><a href="#findall" id="markdown-toc-findall">findall()</a></li>
      <li><a href="#finditer" id="markdown-toc-finditer">finditer()</a></li>
    </ol>
  </li>
  <li><a href="#matching-normal-digits-and-recompile" id="markdown-toc-matching-normal-digits-and-recompile">Matching normal digits and re.compile</a>    <ol>
      <li><a href="#handling-different-seperators" id="markdown-toc-handling-different-seperators">Handling different seperators</a></li>
      <li><a href="#handling-numbers-without-seperators" id="markdown-toc-handling-numbers-without-seperators">Handling numbers without seperators</a></li>
      <li><a href="#verbose-number-handlers" id="markdown-toc-verbose-number-handlers">Verbose number handlers</a></li>
      <li><a href="#example-find-vowels-which-are-2-chars-in-length-and-surrounded-by-consonants" id="markdown-toc-example-find-vowels-which-are-2-chars-in-length-and-surrounded-by-consonants">Example: find vowels which are 2 chars in length and surrounded by consonants</a></li>
      <li><a href="#example-extracting-only-words-from-a-string-and-index-all-words-in-a-dictionary" id="markdown-toc-example-extracting-only-words-from-a-string-and-index-all-words-in-a-dictionary">Example: Extracting only words from a string and index all words in a dictionary</a></li>
    </ol>
  </li>
</ol>

</details>
      <h1 id="before-you-begin">
        
        
          <a href="#before-you-begin" class="anchor-heading" aria-labelledby="before-you-begin"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Before you Begin
        
        
      </h1>
    

<p>The regex functions mostly work with string inputs and basically do pattern matching. each expressions in a regex pattern is meant to match a specific part of a string</p>

<p>Here are the most important ones you’ll be learning:</p>

<ul>
  <li>\d = matches digits from 0-9</li>
  <li>\D = matches non-digits</li>
  <li>\s = matches whitespace</li>
  <li>
    <p>\w = matches word characters</p>
  </li>
  <li>^ = matches beginning of line</li>
  <li>$ = matches end of line</li>
  <li>[..] = matches whatever chars we specify in the brackets</li>
  <li>[^..] = matches all characters other than those mentioned in brackets</li>
  <li>(\d{n}) = matches exactly n number of digits</li>
</ul>

<p>Also, we can do the following to match letters and numbers only:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s">"([a-zA-Z0-9])\1+"</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="nb">input</span><span class="p">())</span>

<span class="k">if</span> <span class="n">m</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>
<p>In the above program we are finding the first occurence of an alphanumeric in an input string</p>
      <h1 id="regex">
        
        
          <a href="#regex" class="anchor-heading" aria-labelledby="regex"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Regex
        
        
      </h1>
    

<p>In the code above, we saw that some in-built functions of the re class were used. Let’s list them out with basic descriptions:</p>

<ul>
  <li>re.search() = returns an object if a particular match is made for a pattern, we can then group this into a list using the re.group() function</li>
  <li>re.split() = similar to split function of string, but returns a list in this case</li>
  <li>re.sub() = replaces one or more matches with a string</li>
  <li>re.findall() = returns a list containing all matches</li>
  <li>re.group() = groups found objects (like the return type of re.search) into a list</li>
  <li>re.complie() = see example below (it also returns an object on which we will have to do another .search to get callable objects)</li>
  <li>re.match() = takes two arguments, i.e. the pattern to match and the string and returns a callable object which we can then group into a list if required</li>
</ul>
      <h2 id="mundane-patterns-and-research">
        
        
          <a href="#mundane-patterns-and-research" class="anchor-heading" aria-labelledby="mundane-patterns-and-research"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mundane patterns and re.search()
        
        
      </h2>
    

<p>Let’s define a pattern which we want to use as a baseline for comparison:</p>

<p><strong>Eg. pattern = ‘^M?M?M?$’</strong></p>

<p>Each symbol in the string pattern has a particular meaning:</p>

<ul>
  <li>
    <p><strong>^</strong> = start looking for the pattern only if that pattern exists in the beginning of the string.<br /> If this didn’t exist, then pattern can be found at any position of the string and it will return true</p>
  </li>
  <li>
    <p><strong>M?</strong> = to optionally match at least a single <strong>M</strong> character if avialable. <br /> However, since our string pattern has 3 such cases of <strong>M?</strong>, we will be matching anywhere between 1 and 3 chars</p>
  </li>
  <li>
    <p><strong>$</strong> is the antagonistic counterpart to the <strong>^</strong>. The dollar sign means to say that match should happen right uptill the end of the string.</p>
  </li>
  <li>
    <p>When we couple both <strong>^</strong> and <strong>$</strong>, it means that the pattern should match exactly between start and end of string (i.e entire string should get matched), with no chars before or after the <strong>M</strong>’s</p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">re</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pattern</span> <span class="o">=</span> <span class="s">'^M?M?M?$'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s">'MMM'</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">SRE_Match</span> <span class="nb">object</span> <span class="n">at</span> <span class="mi">0106</span><span class="n">AA38</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s">'MMMM'</span><span class="p">)</span>
<span class="c1">#(No output here because $ insists that there should be no char after the third M, however there is another)
</span>
</code></pre></div></div>
<p><i> Note. Even two chars ‘MM’ would have been identified by our pattern as it would just ignore the third M as it’s optional</i></p>

<p><i> Interstingly, evne an empty string would have matched our pattern as</i></p>
      <h2 id="n-to-m-form">
        
        
          <a href="#n-to-m-form" class="anchor-heading" aria-labelledby="n-to-m-form"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> n to m form
        
        
      </h2>
    

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">pattern</span> <span class="o">=</span> <span class="s">'^M{0,3}$'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="s">'M'</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">_sre</span><span class="p">.</span><span class="n">SRE_Match</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x008EEB48</span><span class="o">&gt;</span>
</code></pre></div></div>
<p>This pattern says: “Match the start of the string, then anywhere from zero to three M characters, then the end of the string.”</p>

<p>The 0 and 3 can be any numbers; if you want to match at least one but no more than three M characters, you could say M{1,3}.</p>
      <h2 id="verbose-regex">
        
        
          <a href="#verbose-regex" class="anchor-heading" aria-labelledby="verbose-regex"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verbose REGEX
        
        
      </h2>
    

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pattern</span> <span class="o">=</span> <span class="s">"""
^                   # beginning of string
M{0,4}              # thousands − 0 to 4 M's
(CM|CD|D?C{0,3})    # hundreds − 900 (CM), 400 (CD), 0−300 (0 to 3 C's), or 500−800 (D, followed by 0 to 3 C's)
(XC|XL|L?X{0,3})    # ones − 9 (IX), 4 (IV), 0−3 (0 to 3 I's), or 5−8 (V, followed by 0 to 3 I's)
(IX|IV|V?I{0,3})
$                   # end of string
"""</span>

</code></pre></div></div>

<p>Note that we are using python’s interpretation of ruman numerals in a text file as an example for the above operations:</p>

<p>In Roman numerals, there are seven characters that are repeated and combined in various ways to represent numbers.</p>
<ul>
  <li>I = 1</li>
  <li>V = 5</li>
  <li>X = 10</li>
  <li>L = 50</li>
  <li>C = 100</li>
  <li>D = 500</li>
  <li>M = 1000</li>
</ul>
      <h1 id="groups">
        
        
          <a href="#groups" class="anchor-heading" aria-labelledby="groups"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Groups
        
        
      </h1>
    
      <h2 id="groups-1">
        
        
          <a href="#groups-1" class="anchor-heading" aria-labelledby="groups-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> groups()
        
        
      </h2>
    

<p>A groups() expression returns a tuple containing all subgroups of the match</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s">'(\w+)@(\w+)\.(\w+)'</span><span class="p">,</span><span class="s">'username@hackerrank.com'</span><span class="p">)</span>
<span class="n">m</span><span class="p">.</span><span class="n">groups</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="s">'username'</span><span class="p">,</span> <span class="s">'hackerrank'</span><span class="p">,</span> <span class="s">'com'</span><span class="p">)</span>
</code></pre></div></div>
      <h2 id="groupdict">
        
        
          <a href="#groupdict" class="anchor-heading" aria-labelledby="groupdict"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> groupdict()
        
        
      </h2>
    

<p>A groupdict() expression returns a dictionary containing all named subgroups of the match.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">re</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s">'(?&lt;user&lt;\w+)@(&gt;P&lt;website&gt;\w+)\.(&gt;P&lt;extension&gt;\w+)'</span> <span class="p">,</span> <span class="s">'myname@gmail.com'</span><span class="p">)</span>
<span class="n">m</span><span class="p">.</span><span class="n">groupdict</span><span class="p">()</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s">'user'</span><span class="p">:</span> <span class="s">'myname'</span><span class="p">,</span> <span class="s">'website'</span> <span class="p">:</span> <span class="s">'gmail'</span><span class="p">,</span> <span class="s">'extension'</span><span class="p">:</span> <span class="s">'com'</span><span class="p">}</span>
</code></pre></div></div>

<p>In the above code we can notice that (\w+) would mean just a pattern of words, but we can specify a particular key value using the <string_key> operator</string_key></p>
      <h2 id="findall">
        
        
          <a href="#findall" class="anchor-heading" aria-labelledby="findall"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> findall()
        
        
      </h2>
    

<p>The expression re.findall() returns non-ovealapping matches of patterns in a string -&gt; as a list of strings</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s">'\w'</span><span class="p">,</span> <span class="s">'http://hackerrank.com/'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="p">[</span><span class="s">'h'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'p'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="s">'h'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'k'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">,</span> <span class="s">'n'</span><span class="p">,</span> <span class="s">'k'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'o'</span><span class="p">,</span> <span class="s">'m'</span><span class="p">]</span>
</code></pre></div></div>

<p>However, we can replace <code class="language-plaintext highlighter-rouge">\w</code> with <code class="language-plaintext highlighter-rouge">\w+</code> to extract only words from the string</p>
      <h2 id="finditer">
        
        
          <a href="#finditer" class="anchor-heading" aria-labelledby="finditer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> finditer()
        
        
      </h2>
    

<p>This expression returns a callable iterable object (iterator) over non-overlapping matches in string</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">re</span><span class="p">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s">'\w'</span><span class="p">,</span> <span class="s">'http://www.hackerrank.com/'</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">callable</span><span class="o">-</span><span class="n">iterator</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0266C790</span><span class="o">&gt;</span>

<span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">.</span><span class="n">group</span><span class="p">(),</span><span class="n">re</span><span class="p">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s">'\w'</span><span class="p">,</span><span class="s">'http://www.hackerrank.com/'</span><span class="p">))</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s">'h'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'t'</span><span class="p">,</span> <span class="s">'p'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="s">'h'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'k'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">,</span> <span class="s">'n'</span><span class="p">,</span> <span class="s">'k'</span><span class="p">,</span> <span class="s">'c'</span><span class="p">,</span> <span class="s">'o'</span><span class="p">,</span> <span class="s">'m'</span><span class="p">]</span>
</code></pre></div></div>

<p>Remember that the map function uses 2 arguments:</p>
<ul>
  <li>a function which it will iterate upon</li>
  <li>a list or dictionary of items as input</li>
</ul>

<p>Therefore, we get the output as a list of letters in string</p>
      <h1 id="matching-normal-digits-and-recompile">
        
        
          <a href="#matching-normal-digits-and-recompile" class="anchor-heading" aria-labelledby="matching-normal-digits-and-recompile"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Matching normal digits and re.compile
        
        
      </h1>
    

<p>Say we have phone numbers like <strong>800-555-1212</strong></p>

<p>We can use a modfied form of regex like:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">phonePattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'^(\d{3})−(\d{3})−(\d{4})$'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">phonePattern</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'800−555−1212'</span><span class="p">).</span><span class="n">groups</span><span class="p">()</span>

<span class="p">(</span><span class="s">'800'</span><span class="p">,</span> <span class="s">'555'</span><span class="p">,</span> <span class="s">'1212'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>
    <p>Always read regular expressions from left to right. This one matches the beginning of the string, and then (\d{3}). What’s \d{3}? Well, the {3} means “match exactly three numeric digits”; it’s a variation on the {n,m} syntax you saw earlier. \d means “any numeric digit” (0 through 9).</p>
  </li>
  <li>
    <p>Putting it in parentheses means “match exactly three numeric digits, and then remember them as a group that I can ask for later”.</p>
  </li>
  <li>Then match a literal hyphen.</li>
  <li>Then match another group of exactly three digits.</li>
  <li>Then another literal hyphen.</li>
  <li>Then another group of exactly four digits.</li>
  <li>Then match the end of the string.</li>
</ul>

<p>To get access to the groups that the regular expression parser remembered along the way, use the
groups() method on the object that the search function returns. It will return a tuple of however
many groups were defined in the regular expression. In this case, you defined three groups, one with
three digits, one with three digits, and one with four digits.</p>
      <h2 id="handling-different-seperators">
        
        
          <a href="#handling-different-seperators" class="anchor-heading" aria-labelledby="handling-different-seperators"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Handling different seperators
        
        
      </h2>
    

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">phonePattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'^(\d{3})\D+(\d{3})\D+(\d{4})\D+(\d+)$'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">phonePattern</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'800 555 1212 1234'</span><span class="p">).</span><span class="n">groups</span><span class="p">()</span>

<span class="p">(</span><span class="s">'800'</span><span class="p">,</span> <span class="s">'555'</span><span class="p">,</span> <span class="s">'1212'</span><span class="p">,</span> <span class="s">'1234'</span><span class="p">)</span>
</code></pre></div></div>

<p>\D matches any character except a numeric digit, and + means “1 or more”.<br />
So \D+ matches one or more characters that are not digits.</p>
      <h2 id="handling-numbers-without-seperators">
        
        
          <a href="#handling-numbers-without-seperators" class="anchor-heading" aria-labelledby="handling-numbers-without-seperators"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Handling numbers without seperators
        
        
      </h2>
    

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">phonePattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'^(\d{3})\D*(\d{3})\D*(\d{4})\D*(\d*)$'</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">phonePattern</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'80055512121234'</span><span class="p">).</span><span class="n">groups</span><span class="p">()</span>

<span class="p">(</span><span class="s">'800'</span><span class="p">,</span> <span class="s">'555'</span><span class="p">,</span> <span class="s">'1212'</span><span class="p">,</span> <span class="s">'1234'</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>Instead of \D+ between the parts of the phone number, you now match on \D*. Remember that + means “1 or more”? Well, * means “zero or more”.</strong></p>

<p>So now you should be able to parse phone numbers even when there is no separator character at all.</p>
      <h2 id="verbose-number-handlers">
        
        
          <a href="#verbose-number-handlers" class="anchor-heading" aria-labelledby="verbose-number-handlers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verbose number handlers
        
        
      </h2>
    

<p>Taking the same example of phone numbers and designing a pattern matcher for that:</p>

<p>Eg. Phone number: work 1−(800) 555.1212 #1234</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">phonePattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="sa">r</span><span class="s">'''

(\d{3})   # area code is 3 digits (e.g. '800')

\D*       # optional separator is any number of non−digits
(\d{3})   # trunk is 3 digits (e.g. '555')
\D*       # optional separator
(\d{4})   # rest of number is 4 digits (e.g. '1212')
\D*       # optional separator
(\d*)     # extension is optional and can be any number of digits
$         # end of string
'''</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">VERBOSE</span><span class="p">)</span>

</code></pre></div></div>
      <h2 id="example-find-vowels-which-are-2-chars-in-length-and-surrounded-by-consonants">
        
        
          <a href="#example-find-vowels-which-are-2-chars-in-length-and-surrounded-by-consonants" class="anchor-heading" aria-labelledby="example-find-vowels-which-are-2-chars-in-length-and-surrounded-by-consonants"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: find vowels which are 2 chars in length and surrounded by consonants
        
        
      </h2>
    

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">v</span> <span class="o">=</span> <span class="s">"aeiou"</span>
<span class="n">c</span> <span class="o">=</span> <span class="s">"qwrtypsdfghjklzxcvbnm"</span>
<span class="k">print</span><span class="p">(</span><span class="o">*</span><span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">"(?=[%s]([%s]{2,})[%s])"</span><span class="o">%</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">c</span><span class="p">),</span><span class="nb">input</span><span class="p">(),</span> <span class="n">re</span><span class="p">.</span><span class="n">I</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">sep</span><span class="o">=</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Note that the print(*..) part is just a cool way of saying:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">v</span> <span class="o">=</span> <span class="s">"aeiou"</span>
<span class="n">c</span> <span class="o">=</span> <span class="s">"qwrtypsdfghjklzxcvbnm"</span>
<span class="c1">#print(*re.findall("(?=[%s]([%s]{2,})[%s])"%(c,v,c),input(), re.I) or [-1], sep="\n")
</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">"(?=[%s]([%s]{2,})[%s])"</span><span class="o">%</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">c</span><span class="p">),</span><span class="nb">input</span><span class="p">(),</span> <span class="n">re</span><span class="p">.</span><span class="n">I</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pattern</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">pattern</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></div>
      <h2 id="example-extracting-only-words-from-a-string-and-index-all-words-in-a-dictionary">
        
        
          <a href="#example-extracting-only-words-from-a-string-and-index-all-words-in-a-dictionary" class="anchor-heading" aria-labelledby="example-extracting-only-words-from-a-string-and-index-all-words-in-a-dictionary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: Extracting only words from a string and index all words in a dictionary
        
        
      </h2>
    

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_words</span><span class="p">(</span><span class="n">inp_string</span><span class="p">):</span>

  <span class="n">string_to_split</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">inp_string</span><span class="p">)</span>
  <span class="n">pattern</span> <span class="o">=</span> <span class="s">'[A-Za-z]+'</span>
  <span class="n">split_list</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">string_to_split</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">split_list</span>

<span class="k">def</span> <span class="nf">create_dictionary</span><span class="p">(</span><span class="n">messages</span><span class="p">):</span>

  <span class="n">word_dictionary</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">word_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">messages</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">temp_list</span> <span class="o">=</span> <span class="n">get_words</span><span class="p">(</span><span class="n">messages</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">temp_list</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">temp_list</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">word_dictionary</span><span class="p">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">word_dictionary</span><span class="p">[</span><span class="n">word_count</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_list</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">word_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">word_dictionary</span>
</code></pre></div></div>

        

        

        
        
          <hr>
          <footer>
            

            <p class="text-small text-grey-dk-100 mb-0"></p>

            
              <div class="d-flex mt-2">
                
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>

